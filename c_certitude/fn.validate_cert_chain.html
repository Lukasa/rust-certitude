<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `validate_cert_chain` fn in crate `c_certitude`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, validate_cert_chain">

    <title>c_certitude::validate_cert_chain - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>c_certitude</a></p><script>window.sidebarCurrent = {name: 'validate_cert_chain', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content fn">
<h1 class='fqn'><span class='in-band'>Function <a href='index.html'>c_certitude</a>::<wbr><a class='fn' href=''>validate_cert_chain</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-10' class='srclink' href='../src/c_certitude/lib.rs.html#43-70' title='goto source code'>[src]</a></span></h1>
<pre class='rust fn'>pub extern fn validate_cert_chain(encoded_certs: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*mut <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*const <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a></a></a>, cert_sizes: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*mut <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></a>, cert_count: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, hostname: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*const <a class='type' href='https://doc.rust-lang.org/libc/x86_64-apple-darwin/libc/unix/bsd/type.c_char.html' title='libc::unix::bsd::c_char'>c_char</a></a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a></pre><div class='docblock'><p>A C-ABI compatible version of the cert validation function. It does some work to transform the data,
and then just calls the cert validation function from certitude.</p>

<p>Here are the rules for calling this from C.</p>

<ul>
<li>encoded_certs is an array of pointers to DER-encoded representations of the certificates in the
certificate chain. Neither the pointer array nor the DER-encoded representations of the certs
are null-terminated.</li>
<li>cert_sizes is an array of lengths for each DER-encoded cert. This array has the exact same length
as the array in encoded_certs. These lengths must not include any null-terminators that may be at
the end of the DER-encoded certs.</li>
<li>cert_count is the number of elements in both the encoded_certs and cert_sizes array.</li>
<li>hostname is the UTF-8 encoded hostname to validate the cert chain against. This string must be
null-terminated.</li>
</ul>

<p>Rust takes ownership of none of these objects: where necessary it makes its own copies, but
generally speaking it expects all of the data passed to be it to remain valid for the duration
of the function call. The caller retains ownership, however, and is responsible for freeing all
the relevant data.</p>

<p>The C header for this function is:</p>

<pre><code class="language-c">extern uint32_t validate_cert_chain(uint8_t **encoded_certs,
                                    size_t *cert_sizes,
                                    size_t cert_count,
                                    const char *hostname);
</code></pre>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "c_certitude";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>